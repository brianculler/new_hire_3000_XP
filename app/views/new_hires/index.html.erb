<% provide(:title, 'All Hires') %>

<% if Contact.find_by_todo("Laptop") != nil && Contact.find_by_todo("Badge") != nil && Contact.find_by_todo("Setup VPN") != nil && Contact.find_by_todo("Find Seat") != nil && Contact.find_by_todo("Setup IRC") != nil && Contact.find_by_todo("Setup VM") != nil %>
<% else %>
    <% flash[:error] = "Please first complete the necessary contacts information within \"Settings\"  (completed #{Contact.count} out 6)" %> 
<% end %>

<h1>All Hires</h1>

<% if NewHire.any? %>
    <div class="center"><h2>click "to-do list" button to start</h2><div>
<% else %>
    <div class="center"><h2>You haven't add any new hires yet!</h2><div>
<% end %>
    
<form method="get" action="/new_hires" accept-charset="UTF-8" class="navbar-search">
	
    <div style="margin:0;padding:0;display:inline">
        <input type="hidden" value="âœ“" name="utf8"></input>
    </div>
    <p>
        <input id="search" type="text" name="search" class="search-query span3" placeholder="Search by Name"></input>
        <input type="submit" value="Search" class="btn btn-small">
        <font size="2"><%= link_to "Clear", new_hires_path %></font>
    </p>

</form>
<br>

<%= will_paginate %>

<table class="table table-striped table-bordered">
    <thead>
        <tr>
            <th> Name </th>
            <th> Oracle Email </th>
            <th> Department </th>
            <th> Actions </th>
        </tr>
    <thead>

    <tbody>
    <%= render @new_hires %>
    </tbody>
</table>

<%= will_paginate %>
